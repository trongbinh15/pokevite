import{r as g,c as z,o as l,d as h,u as j,a as x,b as u,e as i,t as _,f,g as L,h as E,i as F,w as N,j as v,k as $,l as A,n as b,m as S,F as C,p as I,q as O,s as B,v as M,x as U,y as T,z as W,A as G,B as K,C as J,D as Q,E as X,G as Y,H as Z,I as ee,V as te}from"./vendor.809f3227.js";const se=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}};se();var k=(e,n)=>{const t=e.__vccOpts||e;for(const[o,s]of n)t[o]=s;return t};const ne={};function oe(e,n){const t=g("router-view");return l(),z(t)}var ae=k(ne,[["render",oe]]);const re={class:"flex justify-around w-full mb-3 select-none"},ie=h({props:{id:{type:Number,required:!0}},setup(e){const n=e,t=j(),o=x(()=>(n.id+1).toString()),s=x(()=>(n.id-1).toString());function a(){t.push(`/pokemon/${o.value}`)}function c(){t.push(`/pokemon/${s.value}`)}function p(){t.push("/")}return(r,d)=>(l(),u("div",re,[i("div",{class:"w-[100px] text-left cursor-pointer",onClick:c},"#"+_(f(s)),1),i("div",{class:"cursor-pointer",onClick:p},"Search"),i("div",{class:"w-[100px] text-right cursor-pointer",onClick:a},"#"+_(f(o)),1)]))}}),ce={class:"flex items-center justify-center w-screen h-screen"},le={class:"flex flex-col items-center max-h-screen p-5 overflow-auto text-sm font-light bg-blue-300 rounded-sm shadow-lg w-fit h-fit"},ue={class:"text-lg"},pe=h({setup(e){const n=L(),t=E({name:"",id:0}),{id:o,name:s}=F(t),a=x(()=>s.value.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "));async function c(p){try{return await(await fetch("https://pokeapi.co/api/v2/pokemon/"+p)).json()}catch{return null}}return N(()=>n.params.name,async p=>{if(p){const r=await c(p);Object.assign(t,r)}},{immediate:!0}),(p,r)=>{const d=g("router-view");return l(),u("div",ce,[i("div",le,[v(ie,{id:f(o)},null,8,["id"]),i("div",ue,_(f(a)),1),i("div",null,"#"+_(f(o)),1),v(d)])])}}});var P="/pokevite/assets/Spinner-1s-96px.3aa409ba.gif";function H(e){return new Promise(function(n,t){var o=new Image;o.onload=function(){n(e)},o.onerror=function(){t(e)},o.src=e})}function q(e){return Object.assign({},{label:e.species.name,id:e.species.url.split("/")[6],isBaby:e.is_baby,expand:!1,isLoaded:!1,children:e.evolves_to.map(t=>q(t))})}async function de(e){try{const t=await(await fetch("https://pokeapi.co/api/v2/pokemon-species/"+e)).json(),s=await(await fetch(t.evolution_chain.url)).json();return q(s.chain)}catch{return null}}async function R(e){try{return await(await fetch("https://pokeapi.co/api/v2/pokemon/"+e)).json()}catch{return null}}function he(e){return`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${e}.png`}const me={class:"text-gray-700"},_e={class:"text-gray-700"},fe=h({props:{height:{type:Number,required:!0},weight:{type:Number,required:!0}},setup(e){return(n,t)=>(l(),u("div",null,[i("div",me,"Height: "+_(e.height),1),i("div",_e,"Weight: "+_(e.weight),1)]))}}),ve={class:"flex items-center justify-around w-full my-3 select-none"},ge={class:"p-1 bg-white rounded-lg shadow-md"},ye={class:"w-[96px] h-[96px] mx-auto"},xe=h({props:{sprites:{type:Object,required:!0}},setup(e){const n=e,t=["front_default","back_default","front_shiny","back_shiny"];function o(){c.value++}function s(){c.value--}const a=x(()=>n.sprites?Object.entries(n.sprites).filter(d=>d[1]!==null&&typeof d[1]=="string"&&t.includes(d[0])).sort((d,y)=>{const m=t.indexOf(d[0]),D=t.indexOf(y[0]);return m===D?0:m<D?-1:1}).map(d=>d[1]):[]),c=$(0),p=x(()=>c.value<a.value.length-1),r=x(()=>c.value>0);return N(()=>n.sprites,async()=>{c.value=0}),(d,y)=>{const m=A("lazy");return l(),u("div",ve,[i("div",{onClick:s,class:b(["cursor-pointer",f(r)?"visible":"invisible"])},"<",2),i("div",ge,[S(i("img",ye,null,512),[[m,{src:f(a)[c.value],loading:f(P)}]])]),i("div",{onClick:o,class:b(["cursor-pointer",f(p)?"visible":"invisible"])},">",2)])}}}),ke={class:"text-gray-700"},we=h({props:{stats:{type:Array,required:!0}},setup(e){function n(t){if(t==="hp")return"Hp";if(t==="attack")return"Attack";if(t==="defense")return"Defense";if(t==="special-attack")return"Sp Atk";if(t==="special-defense")return"Sp Def";if(t==="speed")return"Speed"}return(t,o)=>(l(),u("div",null,[(l(!0),u(C,null,I(e.stats,(s,a)=>(l(),u("div",{key:a,class:"flex justify-between"},[i("span",ke,_(n(s.stat.name)),1),i("span",null,_(s.base_stat),1)]))),128))]))}});const $e=e=>(O("data-v-b42a644c"),e=e(),B(),e),be={class:"flex items-center space-x-3"},Se=$e(()=>i("div",{class:"text-gray-700"},"Types:",-1)),Ce={class:"space-x-2"},Ie=h({props:{types:{type:Array,required:!0}},setup(e){return(n,t)=>(l(),u("div",be,[Se,i("div",Ce,[(l(!0),u(C,null,I(e.types,(o,s)=>(l(),u("span",{class:b(["p-1 font-mono text-white rounded-sm",o.type.name]),key:s},_(o.type.name),3))),128))])]))}});var Pe=k(Ie,[["__scopeId","data-v-b42a644c"]]);const De=h({data:()=>({spinner:P,pokemonData:{},loading:!1}),components:{HeightWeightComponent:fe,ImageViewer:xe,StatComponent:we,TypeComponent:Pe},methods:{gotoSecondPage(){this.$router.push({name:"second"}),this.loading=!0}},async beforeRouteEnter(e,n,t){const{name:o}=e.params,s=await R(o),a=s.sprites.front_default;await H(a),t(c=>{c.pokemonData=s})},async beforeRouteUpdate(e,n,t){const{name:o}=e.params,s=await R(o),a=s.sprites.front_default;await H(a),this.pokemonData=s,t()}}),je={class:"w-[300px] relative"},Ne={class:"flex flex-col my-8 mx-auto space-y-4 w-[150px]"},Ae={key:1,class:"absolute inset-y-0 flex items-center w-8 cursor-pointer select-none -right-3"},Oe=["src"];function Be(e,n,t,o,s,a){const c=g("ImageViewer"),p=g("HeightWeightComponent"),r=g("TypeComponent"),d=g("StatComponent");return l(),u("div",je,[v(c,{sprites:e.pokemonData.sprites},null,8,["sprites"]),i("div",Ne,[v(p,{height:e.pokemonData.height,weight:e.pokemonData.weight},null,8,["height","weight"]),v(r,{types:e.pokemonData.types},null,8,["types"]),v(d,{stats:e.pokemonData.stats},null,8,["stats"])]),e.loading?(l(),u("div",Ae,[i("img",{src:e.spinner},null,8,Oe)])):(l(),u("div",{key:0,class:"absolute inset-y-0 flex items-center cursor-pointer select-none -right-3 animate-debounce-x",onClick:n[0]||(n[0]=(...y)=>e.gotoSecondPage&&e.gotoSecondPage(...y))},">>"))])}var Te=k(De,[["render",Be]]);const He=h({data(){return{treeData:{},spinner:P}},computed:{hasData(){return Object.keys(this.treeData).length>0}},methods:{onSelect(e){this.$router.push(`/pokemon/${e}`)},getImageUrl(e){return he(e)},gotoFirstPage(){this.$router.push({name:"first"})}},beforeRouteEnter:async function(e,n,t){const{name:o}=e.params,s=await de(o);t(a=>{a.treeData=s})}}),V=e=>(O("data-v-07a0d2d2"),e=e(),B(),e),qe={class:"relative max-h-full"},Re={class:"flex flex-col mx-auto my-8 space-y-4"},Ve=V(()=>i("h1",{class:"text-center"},"Evolution Chain",-1)),ze={key:0,class:"select-none max-h-[400px] box-content w-fit max-w-[300px] sm:max-w-full overflow-auto"},Le=["onClick"],Ee=V(()=>i("br",null,null,-1)),Fe={class:"max-w-[96px] w-[96px] h-[96px] mx-auto"},Me={key:1,class:"text-center"};function Ue(e,n,t,o,s,a){const c=g("blocks-tree"),p=A("lazy");return l(),u("div",qe,[i("div",Re,[Ve,e.hasData?(l(),u("div",ze,[v(c,{data:e.treeData,horizontal:!0,collapsable:!1,props:{label:"label",expand:"expand",children:"children",id:"id"}},{node:M(({data:r})=>[i("div",{class:"cursor-pointer",onClick:d=>e.onSelect(r.id)},[i("span",null,_(r.label),1),Ee,S(i("img",Fe,null,512),[[p,{src:e.getImageUrl(r.id),loading:e.spinner}]])],8,Le)]),_:1},8,["data"])])):(l(),u("div",Me,"Not found!"))]),i("div",{class:"flex items-center w-5 cursor-pointer select-none -left-10 animate-debounce-x",onClick:n[0]||(n[0]=(...r)=>e.gotoFirstPage&&e.gotoFirstPage(...r))},"<<")])}var We=k(He,[["render",Ue],["__scopeId","data-v-07a0d2d2"]]);const Ge=U({id:"main",state:()=>({pokeNames:[]}),getters:{findPokemonByName:e=>n=>{const t=T.exports.go(n,e.pokeNames),o=t.map(s=>T.exports.highlight(s,"<b>","</b>"));return{results:t,highlights:o}}},actions:{async getAllPokemon(){try{const t=(await(await fetch("https://pokeapi.co/api/v2/pokemon?limit=1181")).json()).results.map(o=>o.name);this.$state.pokeNames=t}catch{this.$state.pokeNames=[]}}}});const Ke={class:"flex flex-col items-start w-full p-4 space-y-2 cursor-pointer highlight"},Je=["onClick","innerHTML"],Qe=h({props:{highlight:{type:Array,required:!0},results:{type:Array,required:!0}},emits:["onSelect"],setup(e,{emit:n}){const t=e;function o(s){n("onSelect",t.results[s])}return(s,a)=>(l(),u("ul",Ke,[(l(!0),u(C,null,I(e.highlight,(c,p)=>(l(),u("li",{onClick:r=>o(p),key:p,innerHTML:c},null,8,Je))),128))]))}});var Xe=k(Qe,[["__scopeId","data-v-7312c737"]]);const Ye={class:"flex space-x-2 justify-start my-3 mx-auto items-center"},Ze=i("div",null,"Search:",-1),et=h({emits:["onSearch"],setup(e,{emit:n}){const t=$("");return W(()=>{n("onSearch",t.value)}),(o,s)=>(l(),u("div",Ye,[Ze,S(i("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>t.value=a),type:"text",class:"p-2 border-none rounded-sm focus:outline-none"},null,512),[[G,t.value]])]))}}),tt={class:"flex items-center justify-center w-screen h-screen"},st={class:"flex flex-col text-sm bg-blue-300 font-light w-full sm:w-[400px] max-h-screen overflow-auto h-[500px] p-5 items-center space-y-3 rounded-sm shadow-lg"},nt=h({setup(e){const n=Ge(),t=j(),o=$([]),s=$([]),{pokeNames:a}=K(n),c=r=>{if(r&&r.length>0){const{results:d,highlights:y}=n.findPokemonByName(r);d.length>0?(o.value=d.slice(0,10).map(m=>m.target),s.value=y.slice(0,10).map(m=>m!=null?m:"")):(o.value=[],s.value=[])}else o.value=a.value,s.value=[]};function p(r){t.push(`/pokemon/${r}`)}return J(async()=>{await n.getAllPokemon()}),(r,d)=>(l(),u("div",tt,[i("div",st,[v(et,{onOnSearch:c}),v(Xe,{highlight:s.value,results:o.value,onOnSelect:p},null,8,["highlight","results"])])]))}}),ot=[{path:"/",component:nt},{path:"/pokemon/:name",name:"detail",component:pe,children:[{path:"",name:"first",component:Te},{path:"evolution",name:"second",component:We}]}],at=Q({history:X(),routes:ot}),w=Y(ae);w.use(Z());w.use(ee);w.use(te,{treeName:"blocks-tree"});w.use(at);w.mount("#app");
